<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Key Detection</title>
  <script type="text/javascript" src="http://www.cornify.com/js/cornify.js"></script>
</head>
<body>
<script>
  const pressed = [];
  const secretCode ='vixiechu';

  let timeoutId;
    function timeDelay() {

      timeoutId = window.setTimeout(window.alert, 500, 'Too Slow...');
      
    }
    function clearAlert() {
      if (timeoutId !== null) window.clearTimeout(timeoutId);
    } 
  


  window.addEventListener('keyup', (e) => {
    console.log(e.key);
    pressed.push(e.key);
    clearAlert(); 

    pressed.splice(-secretCode.length -1, pressed.length - secretCode.length)
    ;
    if(pressed.join('').includes(secretCode)) {
     console.log('WILD VIXIECHU APPEARED');
     alert('You found the secret Vixiechu code!');
   }
   console.log(pressed);
   timeDelay();
  });

</script>
</body>
</html>
